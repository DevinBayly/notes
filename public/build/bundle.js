var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function l(t){return document.createElement(t)}function c(){return t=" ",document.createTextNode(t);var t}function s(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function u(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function d(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let p;function h(t){p=t}const f=[],g=[],m=[],y=[],b=Promise.resolve();let v=!1;function w(t){m.push(t)}let $=!1;const x=new Set;function k(){if(!$){$=!0;do{for(let t=0;t<f.length;t+=1){const e=f[t];h(e),_(e.$$)}for(f.length=0;g.length;)g.pop()();for(let t=0;t<m.length;t+=1){const e=m[t];x.has(e)||(x.add(e),e())}m.length=0}while(f.length);for(;y.length;)y.pop()();v=!1,$=!1,x.clear()}}function _(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(w)}}const A=new Set;function C(t,e){-1===t.$$.dirty[0]&&(f.push(t),v||(v=!0,b.then(k)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function E(a,r,l,c,s,u,d=[-1]){const f=p;h(a);const g=r.props||{},m=a.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:d};let y=!1;var b,v;m.ctx=l?l(a,g,(t,e,...n)=>{const o=n.length?n[0]:e;return m.ctx&&s(m.ctx[t],m.ctx[t]=o)&&(m.bound[t]&&m.bound[t](o),y&&C(a,t)),e}):[],m.update(),y=!0,o(m.before_update),m.fragment=!!c&&c(m.ctx),r.target&&(r.hydrate?m.fragment&&m.fragment.l(function(t){return Array.from(t.childNodes)}(r.target)):m.fragment&&m.fragment.c(),r.intro&&((b=a.$$.fragment)&&b.i&&(A.delete(b),b.i(v))),function(t,n,a){const{fragment:r,on_mount:l,on_destroy:c,after_update:s}=t.$$;r&&r.m(n,a),w(()=>{const n=l.map(e).filter(i);c?c.push(...n):o(n),t.$$.on_mount=[]}),s.forEach(w)}(a,r.target,r.anchor),k()),h(f)}var I,S,T="AIzaSyAIYCyk2KaSfTyX67jJuNKYo-AZAtwwZ-U",j=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"];function L(){gapi.client.init({apiKey:T,clientId:"541857836176-ooorj15vavsg5e0h0c98jodmp5lt39js.apps.googleusercontent.com",discoveryDocs:j,scope:"https://www.googleapis.com/auth/drive"}).then((function(){gapi.auth2.getAuthInstance().isSignedIn.listen(N),N(gapi.auth2.getAuthInstance().isSignedIn.get()),I.onclick=O,S.onclick=D}),(function(t){var e,n,o;e=JSON.stringify(t,null,2),n=document.getElementById("content"),o=document.createTextNode(e+"\n"),n.appendChild(o)}))}function N(t){t?(I.style.display="none",S.style.display="block",gapi.client.drive.files.list({pageSize:10,fields:"nextPageToken, files(id, name)"}).then((function(t){}))):(I.style.display="block",S.style.display="none")}function O(t){gapi.auth2.getAuthInstance().signIn()}function D(t){gapi.auth2.getAuthInstance().signOut()}let z=()=>{let t='--uploadboundary\nContent-Disposition:form-data;name="metadata";filename="first"\nContent-Type: application/json; charset=UTF-8\n\n{"name":"notes.json","mimeType":"application/json"}\n',e=`--uploadboundary\nContent-Disposition:form-data;name="file";filename="blob"\nContent-Type: application/json\n\n${JSON.stringify({starting:"text"})}\n--uploadboundary--\n    `;fetch(`https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&api=${T}&fields=id`,{method:"POST",headers:{"Content-type":"multipart/related; boundary=uploadboundary","Content-Length":(t+e).length,Authorization:"Bearer "+gapi.auth.getToken().access_token},body:t+e}).then(t=>t.json()).then(t=>console.log(t))},B=()=>fetch(`https://www.googleapis.com/drive/v3/files/undefined/?key=${T}&alt=media`,{}),J=t=>{console.log("creating anew"),z()};function P(e){let n,i,a,p,h,f,g,m,y,b,v,w,$,x,k,_,A,C,E;return{c(){n=l("div"),i=l("p"),i.textContent="Drive API Quickstart",a=c(),p=l("button"),p.textContent="creatfile",h=c(),f=l("button"),f.textContent="makenew",g=c(),m=l("button"),m.textContent="getfile",y=c(),b=l("button"),b.textContent="Authorize",v=c(),w=l("button"),w.textContent="Sign Out",$=c(),x=l("pre"),k=c(),_=l("div"),_.innerHTML='<canvas id="the-canvas"></canvas>',A=c(),C=l("canvas"),u(b,"id","authorize_button"),d(b,"display","none"),u(w,"id","signout_button"),d(w,"display","none"),u(x,"id","content"),d(x,"white-space","pre-wrap"),u(_,"id","pdfcontainer"),u(C,"id","canvas")},m(t,e){!function(t,e,n){t.insertBefore(e,n||null)}(t,n,e),r(n,i),r(n,a),r(n,p),r(n,h),r(n,f),r(n,g),r(n,m),r(n,y),r(n,b),r(n,v),r(n,w),r(n,$),r(n,x),r(n,k),r(n,_),r(n,A),r(n,C),E=[s(p,"click",J),s(f,"click",z),s(m,"click",B)]},p:t,i:t,o:t,d(t){var e;t&&(e=n).parentNode.removeChild(e),o(E)}}}let M=()=>({ele:document.createElement("textarea"),holder:document.createElement("div"),init(){this.holder.id="textholder",this.holder.append(this.ele),this.ele.addEventListener("keydown",this.keycheck.bind(this)),this.ele.style.height="400px",this.ele.style.width="90%",document.body.append(this.holder)},keycheck(t){if("Control"==t.key){let e=this.ele.selectionStart,n=""+new Date;this.ele.value.match(/--date--/)&&(this.ele.value=this.ele.value.replace(/--date--/,""+n),t.preventDefault(),this.ele.selectionstart=e+n.length,this.ele.selectionend=e+n.length)}}});class H{constructor(){let t=M();t.init(),B().then(t=>t.json()).then(e=>{JSON.parse(e).map(e=>{t.ele.value+=e.value})})}}class K{constructor(){this.btn=document.createElement("button"),document.body.prepend(this.btn),this.btn.addEventListener("click",()=>{this.load()}),this.btn.id="reload",this.btn.innerHTML="Load prev data"}load(){new H}}class q{constructor(){this.btn=document.createElement("button"),this.btn.innerHTML="Download",this.btn.id="download",this.btn.addEventListener("click",()=>{let t=this.retrieveInfo();J(JSON.stringify(t))}),document.body.prepend(this.btn)}retrieveInfo(){return Array(...document.querySelectorAll("textarea")).map(t=>({value:t.value}))}}const U=new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){super(),E(this,t,null,P,a,{})}}({target:document.body,props:{name:"world"}});return window.onload=()=>{I=document.getElementById("authorize_button"),S=document.getElementById("signout_button"),gapi.load("client:auth2",L),new q,new K},U}();
//# sourceMappingURL=bundle.js.map
